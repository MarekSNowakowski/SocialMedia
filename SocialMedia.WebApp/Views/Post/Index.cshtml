@model IEnumerable<SocialMedia.WebApp.Models.PostVM>

@{
    ViewData["Title"] = "Index";
}
<link rel="stylesheet" type="text/css" href="~/css/post_style.css" />

<h1>Posts</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>


@foreach (var item in Model)
{
    string photoPath = "~/images/" + (item.PhotoPath ?? "noimage.jpg");
    string dateFormated = item.Time.ToString("M") + ", " + item.Time.ToString("t");

    <div class="post">
        <div class="post-title">
            @Html.DisplayFor(modelItem => item.Title)
        </div>
        <div class="post-time">
            @dateFormated
        </div>
        <div class="post-author">
            @Html.DisplayFor(modelItem => item.Author)
        </div>
        <div class="post-edit">
            @Html.ActionLink("Edit", "Edit", new { id = item.Id })
        </div>
        <div class="post-delete">
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })
        </div>

        <img class="post-image" src="@photoPath" asp-append-version="true" />
    </div>
    }
